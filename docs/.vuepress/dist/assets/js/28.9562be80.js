(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{370:function(t,a,s){"use strict";s.r(a);var n=s(9),e=Object(n.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("在一个服务器上配置 pwn 环境，来应对一般的比赛场景。")]),t._v(" "),s("h2",{attrs:{id:"前提条件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#前提条件","aria-hidden":"true"}},[t._v("#")]),t._v(" 前提条件")]),t._v(" "),s("p",[t._v("检查现在的 Python 版本")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看默认 Python 版本")]),t._v("\n$ python --version\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 查看 Python3 版本")]),t._v("\n$ python3 --version\n")])])]),s("h2",{attrs:{id:"pwntools-安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pwntools-安装","aria-hidden":"true"}},[t._v("#")]),t._v(" Pwntools 安装")]),t._v(" "),s("h3",{attrs:{id:"默认版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#默认版本","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://github.com/Gallopsled/pwntools/",target:"_blank",rel:"noopener noreferrer"}},[t._v("默认版本"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" python-dev "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" libssl-dev libffi-dev build-essential\npip "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --upgrade pip\npip "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --upgrade pwntools\n")])])]),s("p",[t._v("如果使用的是阿里云的服务器，或者是设置了 pip 源为阿里云的话，可能会出现下面的问题。")]),t._v(" "),s("blockquote",[s("p",[t._v("ERROR: Package 'more-itertools' requires a different Python: 2.7.15 not in '>=3.4'")])]),t._v(" "),s("p",[t._v("不过我们可以在安装的时候指定镜像源：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("pip "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --upgrade pwntools -i https://pypi.tuna.tsinghua.edu.cn/simple\n")])])]),s("p",[t._v("解决！")]),t._v(" "),s("h3",{attrs:{id:"python3-开发版本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#python3-开发版本","aria-hidden":"true"}},[t._v("#")]),t._v(" "),s("a",{attrs:{href:"https://github.com/Gallopsled/pwntools/tree/dev3",target:"_blank",rel:"noopener noreferrer"}},[t._v("Python3 开发版本"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Pwntools 团队同时也在开发适用于 Python2 和 Python3 的版本，目前已经进入开发阶段，虽然有些功能并没有完成，但是平常使用应该不在问题：")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" update\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" python3 python3-pip python3-dev "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" libssl-dev libffi-dev build-essential\npython3 -m pip "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --upgrade pip\npython3 -m pip "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" --upgrade git+https://github.com/Gallopsled/pwntools.git@dev3\n")])])]),s("h2",{attrs:{id:"gdb-安装以及插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gdb-安装以及插件","aria-hidden":"true"}},[t._v("#")]),t._v(" GDB 安装以及插件")]),t._v(" "),s("p",[t._v("安装 gdb 的方法很简单，直接使用")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("apt-get")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" gdb\n")])])]),s("p",[t._v("安装 "),s("code",[t._v("PEDA")]),t._v(" 插件 "),s("a",{attrs:{href:"https://blog.csdn.net/gatieme/article/details/63254211",target:"_blank",rel:"noopener noreferrer"}},[t._v("其他插件"),s("OutboundLink")],1)]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/longld/peda.git ~/.peda\n$ "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("echo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"source ~/.peda/peda.py"')]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" ~/.gdbinit\n")])])]),s("p",[t._v("但是在运行的时候会产生 "),s("code",[t._v("peda-session")]),t._v(" 文件，所以需要编辑一下")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" lib/config.py\n")])])]),s("p",[t._v("把第 35 行，"),s("code",[t._v("autosave")]),t._v(" "),s("code",[t._v("on")]),t._v(" 改成 "),s("code",[t._v("off")])]),t._v(" "),s("div",{staticClass:"language-python extra-class"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"autosave"')]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"on"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"auto saving peda session, e.g: on|off"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);