<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>动物识别专家系统 | Xerrors</title>
    <meta name="description" content="Xerrors playground">
    <link rel="manifest" href="/manifest.json">
  <link rel="apple-touch-icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.dbbffdb9.css" as="style"><link rel="preload" href="/assets/js/app.2e9518ad.js" as="script"><link rel="preload" href="/assets/js/10.1662b097.js" as="script"><link rel="preload" href="/assets/js/9.66c50aa9.js" as="script"><link rel="prefetch" href="/assets/js/1.6287c7bd.js"><link rel="prefetch" href="/assets/js/11.489a2fe2.js"><link rel="prefetch" href="/assets/js/12.574add3c.js"><link rel="prefetch" href="/assets/js/13.84faf611.js"><link rel="prefetch" href="/assets/js/14.5439e18a.js"><link rel="prefetch" href="/assets/js/15.dd8f2354.js"><link rel="prefetch" href="/assets/js/16.d2088d2e.js"><link rel="prefetch" href="/assets/js/17.ac22205c.js"><link rel="prefetch" href="/assets/js/18.bf2ab7bd.js"><link rel="prefetch" href="/assets/js/19.55cf898b.js"><link rel="prefetch" href="/assets/js/2.af5ad222.js"><link rel="prefetch" href="/assets/js/20.11a73e76.js"><link rel="prefetch" href="/assets/js/21.7a5961d7.js"><link rel="prefetch" href="/assets/js/22.2146e04d.js"><link rel="prefetch" href="/assets/js/23.5b337792.js"><link rel="prefetch" href="/assets/js/24.16faeec6.js"><link rel="prefetch" href="/assets/js/25.5d28e107.js"><link rel="prefetch" href="/assets/js/26.1c6ad645.js"><link rel="prefetch" href="/assets/js/27.95f320ac.js"><link rel="prefetch" href="/assets/js/28.ad0bfca3.js"><link rel="prefetch" href="/assets/js/29.c939ffc6.js"><link rel="prefetch" href="/assets/js/3.0d7f37b7.js"><link rel="prefetch" href="/assets/js/30.24d291f2.js"><link rel="prefetch" href="/assets/js/31.0fd14636.js"><link rel="prefetch" href="/assets/js/32.fec6f964.js"><link rel="prefetch" href="/assets/js/33.c9c55f36.js"><link rel="prefetch" href="/assets/js/34.607ee0d1.js"><link rel="prefetch" href="/assets/js/35.ec7609c3.js"><link rel="prefetch" href="/assets/js/36.e232ae20.js"><link rel="prefetch" href="/assets/js/37.7e93dda7.js"><link rel="prefetch" href="/assets/js/38.b4e16f1f.js"><link rel="prefetch" href="/assets/js/39.7d2bf099.js"><link rel="prefetch" href="/assets/js/40.79ce393b.js"><link rel="prefetch" href="/assets/js/41.cd4c3a1d.js"><link rel="prefetch" href="/assets/js/42.72aeb744.js"><link rel="prefetch" href="/assets/js/43.f7daa23f.js"><link rel="prefetch" href="/assets/js/44.43438866.js"><link rel="prefetch" href="/assets/js/45.bbc3f089.js"><link rel="prefetch" href="/assets/js/46.10ef71c0.js"><link rel="prefetch" href="/assets/js/47.58d7d3cf.js"><link rel="prefetch" href="/assets/js/48.cc4e3713.js"><link rel="prefetch" href="/assets/js/49.4b47a7df.js"><link rel="prefetch" href="/assets/js/5.90ca23c2.js"><link rel="prefetch" href="/assets/js/50.3e3bd79d.js"><link rel="prefetch" href="/assets/js/51.9fd3417f.js"><link rel="prefetch" href="/assets/js/52.6e332691.js"><link rel="prefetch" href="/assets/js/53.cd789ab4.js"><link rel="prefetch" href="/assets/js/54.535dcb12.js"><link rel="prefetch" href="/assets/js/55.3b01a89a.js"><link rel="prefetch" href="/assets/js/56.979bba9f.js"><link rel="prefetch" href="/assets/js/6.95fa38dd.js"><link rel="prefetch" href="/assets/js/7.de20c104.js"><link rel="prefetch" href="/assets/js/8.881e667d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.dbbffdb9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><!----> <div id="my-bg"></div> <header class="navbar my-nav"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/avatar.jpg" alt="Xerrors" class="logo"> <span class="site-name can-hide">Xerrors</span></a> <div class="links"><!----> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link">📃 文章</a></div><div class="nav-item"><a href="/zhuanlan/" class="nav-link">📰 专栏</a></div><div class="nav-item"><a href="/zone/" class="nav-link">🤪 动态</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">🔨 工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/" class="nav-link">🚥 导航</a></li><li class="dropdown-item"><!----> <a href="/tools/findpwd.html" class="nav-link">🔐 寻密</a></li><li class="dropdown-item"><!----> <a href="/tools/links.html" class="nav-link">🔗 友链</a></li><li class="dropdown-item"><!----> <a href="https://www.notion.so/krance/7af4256cdc35438d919833f4c6192128?v=5219488bae934ab3a621e7c8b123d08b" target="_blank" rel="noopener noreferrer" class="nav-link external">
  👩‍🚀 Notion
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav> <a href="https://github.com/Xerrors/" target="_blank" class="can-hide" style="display: flex; align-items: center; margin-left: 10px;"><img src="/github.png" class="my-svg" style="width: 1.4rem; height: 1.4rem;"></a></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link">📃 文章</a></div><div class="nav-item"><a href="/zhuanlan/" class="nav-link">📰 专栏</a></div><div class="nav-item"><a href="/zone/" class="nav-link">🤪 动态</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">🔨 工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/" class="nav-link">🚥 导航</a></li><li class="dropdown-item"><!----> <a href="/tools/findpwd.html" class="nav-link">🔐 寻密</a></li><li class="dropdown-item"><!----> <a href="/tools/links.html" class="nav-link">🔗 友链</a></li><li class="dropdown-item"><!----> <a href="https://www.notion.so/krance/7af4256cdc35438d919833f4c6192128?v=5219488bae934ab3a621e7c8b123d08b" target="_blank" rel="noopener noreferrer" class="nav-link external">
  👩‍🚀 Notion
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <!----> </aside> <div><div style="height:4.5rem;width:100%;background:#f0f2f5;"></div> <main class="page need-zoom"> <div class="my-main"><div class="my-main-left"><div class="my-title-box"><h3 style="text-align: center;">动物识别专家系统</h3> <div style="text-align: center; color: #655e5e; font-size: 14px;"><span data-flag-title="Your Article Title" class="leancloud-visitors"><span>2020-5-11  </span> <i class="el-icon-view" style="margin-right: 3px;"></i> <span class="leancloud-visitors-count"></span> <span>次浏览</span></span></div></div> <div class="theme-default-content content__default" data-v-75a4130f data-v-75a4130f><h2 data-v-75a4130f>条件</h2> <div class="item-box" data-v-75a4130f><div class="inactive" data-v-75a4130f> 有毛<br data-v-75a4130f>( 0 )
    </div><div class="inactive" data-v-75a4130f> 产奶<br data-v-75a4130f>( 1 )
    </div><div class="inactive" data-v-75a4130f> 有羽毛<br data-v-75a4130f>( 2 )
    </div><div class="inactive" data-v-75a4130f> 会飞<br data-v-75a4130f>( 3 )
    </div><div class="inactive" data-v-75a4130f> 会下蛋<br data-v-75a4130f>( 4 )
    </div><div class="inactive" data-v-75a4130f> 吃肉<br data-v-75a4130f>( 5 )
    </div><div class="inactive" data-v-75a4130f> 有犬齿<br data-v-75a4130f>( 6 )
    </div><div class="inactive" data-v-75a4130f> 有爪<br data-v-75a4130f>( 7 )
    </div><div class="inactive" data-v-75a4130f> 眼睛盯前方<br data-v-75a4130f>( 8 )
    </div><div class="inactive" data-v-75a4130f> 有蹄<br data-v-75a4130f>( 9 )
    </div><div class="inactive" data-v-75a4130f> 反刍<br data-v-75a4130f>( 10 )
    </div><div class="inactive" data-v-75a4130f> 黄褐色<br data-v-75a4130f>( 11 )
    </div><div class="inactive" data-v-75a4130f> 有斑点<br data-v-75a4130f>( 12 )
    </div><div class="inactive" data-v-75a4130f> 有黑色条纹<br data-v-75a4130f>( 13 )
    </div><div class="inactive" data-v-75a4130f> 长脖<br data-v-75a4130f>( 14 )
    </div><div class="inactive" data-v-75a4130f> 长腿<br data-v-75a4130f>( 15 )
    </div><div class="inactive" data-v-75a4130f> 不会飞<br data-v-75a4130f>( 16 )
    </div><div class="inactive" data-v-75a4130f> 会游泳<br data-v-75a4130f>( 17 )
    </div><div class="inactive" data-v-75a4130f> 黑白两色<br data-v-75a4130f>( 18 )
    </div><div class="inactive" data-v-75a4130f> 善飞<br data-v-75a4130f>( 19 )
    </div></div> <h2 data-v-75a4130f>推论</h2> <div class="item-box" data-v-75a4130f><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----><!----></div> <h2 data-v-75a4130f>过程</h2>  <h2 id="_1-简单介绍" data-v-75a4130f><a href="#_1-简单介绍" aria-hidden="true" class="header-anchor" data-v-75a4130f>#</a> 1. 简单介绍</h2> <p data-v-75a4130f>演示程序见 <a href="https://www.xerrors.fun/Animal-Identification-Expert-System/" target="_blank" rel="noopener noreferrer" data-v-75a4130f>个人博客<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-75a4130f data-v-75a4130f><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p data-v-75a4130f>在线编辑此程序  <a href="https://codepen.io/xerrors/pen/abvGeqy" target="_blank" rel="noopener noreferrer" data-v-75a4130f>Codepen<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-75a4130f data-v-75a4130f><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p data-v-75a4130f>在这个系统中，用户可以输入动物的特征，然后系统根据这些特征回答是什么动物。实际上系统内部，有若干个规则，系统根据用户的输入以及系统中已经存在的规则进行判断，给出最终结果。维基百科对 <a href="https://zh.wikipedia.org/wiki/%E4%B8%93%E5%AE%B6%E7%B3%BB%E7%BB%9F" target="_blank" rel="noopener noreferrer" data-v-75a4130f>专家系统<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-75a4130f data-v-75a4130f><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 的解释。专家系统= <a href="https://zh.wikipedia.org/wiki/%E7%9F%A5%E8%AF%86%E5%BA%93" target="_blank" rel="noopener noreferrer" data-v-75a4130f>知识库<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-75a4130f data-v-75a4130f><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> + <a href="https://zh.wikipedia.org/wiki/%E6%8E%A8%E7%90%86%E6%9C%BA" target="_blank" rel="noopener noreferrer" data-v-75a4130f>推理机<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound" data-v-75a4130f data-v-75a4130f><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> ，因此专家系统也被称为基于知识的系统。这里所介绍的动物识别专家系统实际上就是一个<strong data-v-75a4130f>基于规则的前向链专家系统</strong>（Forward-Chain Rule-Based Expert System）</p> <p data-v-75a4130f>我不像在非专业的文章里面出现很多的专有词汇，所以整篇文章会偏向于口语化，适合课后用来理解。</p> <p data-v-75a4130f>R1：如果<strong data-v-75a4130f>有毛</strong>且<strong data-v-75a4130f>有蹄</strong>，可推出<strong data-v-75a4130f>食草动物</strong>；</p> <p data-v-75a4130f>R2：如果<strong data-v-75a4130f>长脖子</strong>且是<strong data-v-75a4130f>食草动物</strong>，可推出<strong data-v-75a4130f>长颈鹿</strong>；</p> <p data-v-75a4130f><img src="http://src.xerrors.fun/img20200511154255.png" alt="" data-v-75a4130f></p> <h2 id="_2-知识库" data-v-75a4130f><a href="#_2-知识库" aria-hidden="true" class="header-anchor" data-v-75a4130f>#</a> 2. 知识库</h2> <h3 id="保存规则" data-v-75a4130f><a href="#保存规则" aria-hidden="true" class="header-anchor" data-v-75a4130f>#</a> 保存规则</h3> <p data-v-75a4130f>由于在线演示需要使用 JavaScript 作为编程语言，所以这里就是用 JavaScript 来创建知识库；这里的知识库主要需要保存规则；对于 C，C++ 等变成语言，可以使用结构体的形式来保存规则。</p> <div class="language-c extra-class" data-v-75a4130f><pre class="language-c" data-v-75a4130f><code data-v-75a4130f><span class="token keyword" data-v-75a4130f>char</span> <span class="token operator" data-v-75a4130f>*</span>feature<span class="token punctuation" data-v-75a4130f>[</span><span class="token punctuation" data-v-75a4130f>]</span><span class="token operator" data-v-75a4130f>=</span><span class="token punctuation" data-v-75a4130f>{</span><span class="token string" data-v-75a4130f>&quot;有毛&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;产奶&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;有羽毛&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;会飞&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;会下蛋&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;吃肉&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;有犬齿&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;有爪&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;眼睛盯前方&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;有蹄&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;反刍&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;黄褐色&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;有斑点&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;有黑色条纹&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;长脖&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;长腿&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;不会飞&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;会游泳&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;黑白两色&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;善飞&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;哺乳类&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;鸟类&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;肉食类&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;蹄类&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;企鹅&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;海燕&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;鸵鸟&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;斑马&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;长颈鹿&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;虎&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;金钱豹&quot;</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>;</span>

<span class="token comment" data-v-75a4130f>// 创建一个结构体</span>
<span class="token keyword" data-v-75a4130f>typedef</span> <span class="token keyword" data-v-75a4130f>struct</span>  
<span class="token punctuation" data-v-75a4130f>{</span>
	<span class="token keyword" data-v-75a4130f>int</span> conditions<span class="token punctuation" data-v-75a4130f>[</span><span class="token number" data-v-75a4130f>5</span><span class="token punctuation" data-v-75a4130f>]</span><span class="token punctuation" data-v-75a4130f>;</span> <span class="token comment" data-v-75a4130f>// 条件</span>
    <span class="token keyword" data-v-75a4130f>int</span> conclusion<span class="token punctuation" data-v-75a4130f>;</span>    <span class="token comment" data-v-75a4130f>// 结论</span>
<span class="token punctuation" data-v-75a4130f>}</span>Rule<span class="token punctuation" data-v-75a4130f>;</span>

<span class="token comment" data-v-75a4130f>// 规则</span>
Rule rule<span class="token punctuation" data-v-75a4130f>[</span><span class="token number" data-v-75a4130f>15</span><span class="token punctuation" data-v-75a4130f>]</span><span class="token operator" data-v-75a4130f>=</span><span class="token punctuation" data-v-75a4130f>{</span>
	<span class="token punctuation" data-v-75a4130f>{</span><span class="token punctuation" data-v-75a4130f>{</span><span class="token number" data-v-75a4130f>0</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token operator" data-v-75a4130f>-</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>20</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span> <span class="token comment" data-v-75a4130f>// 若有毛，则是哺乳类</span>
	<span class="token punctuation" data-v-75a4130f>{</span><span class="token punctuation" data-v-75a4130f>{</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token operator" data-v-75a4130f>-</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>20</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span>
	<span class="token punctuation" data-v-75a4130f>{</span><span class="token punctuation" data-v-75a4130f>{</span><span class="token number" data-v-75a4130f>2</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token operator" data-v-75a4130f>-</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>21</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span>
	<span class="token punctuation" data-v-75a4130f>{</span><span class="token punctuation" data-v-75a4130f>{</span><span class="token number" data-v-75a4130f>3</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>4</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token operator" data-v-75a4130f>-</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>21</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span>
	<span class="token punctuation" data-v-75a4130f>{</span><span class="token punctuation" data-v-75a4130f>{</span><span class="token number" data-v-75a4130f>20</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>5</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token operator" data-v-75a4130f>-</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>22</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span>
	<span class="token punctuation" data-v-75a4130f>{</span><span class="token punctuation" data-v-75a4130f>{</span><span class="token number" data-v-75a4130f>6</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>7</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>8</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token operator" data-v-75a4130f>-</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>22</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span>
	<span class="token punctuation" data-v-75a4130f>{</span><span class="token punctuation" data-v-75a4130f>{</span><span class="token number" data-v-75a4130f>20</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>8</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token operator" data-v-75a4130f>-</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>23</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span>
	<span class="token punctuation" data-v-75a4130f>{</span><span class="token punctuation" data-v-75a4130f>{</span><span class="token number" data-v-75a4130f>20</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>9</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token operator" data-v-75a4130f>-</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>23</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span>
	<span class="token punctuation" data-v-75a4130f>{</span><span class="token punctuation" data-v-75a4130f>{</span><span class="token number" data-v-75a4130f>21</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>17</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>18</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>16</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token operator" data-v-75a4130f>-</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>24</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span>
	<span class="token punctuation" data-v-75a4130f>{</span><span class="token punctuation" data-v-75a4130f>{</span><span class="token number" data-v-75a4130f>21</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>19</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token operator" data-v-75a4130f>-</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>25</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span>
	<span class="token punctuation" data-v-75a4130f>{</span><span class="token punctuation" data-v-75a4130f>{</span><span class="token number" data-v-75a4130f>21</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>14</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>15</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>16</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token operator" data-v-75a4130f>-</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>26</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span>
	<span class="token punctuation" data-v-75a4130f>{</span><span class="token punctuation" data-v-75a4130f>{</span><span class="token number" data-v-75a4130f>23</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>13</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token operator" data-v-75a4130f>-</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>27</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span>
	<span class="token punctuation" data-v-75a4130f>{</span><span class="token punctuation" data-v-75a4130f>{</span><span class="token number" data-v-75a4130f>23</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>14</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>15</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>12</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token operator" data-v-75a4130f>-</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>28</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span>
	<span class="token punctuation" data-v-75a4130f>{</span><span class="token punctuation" data-v-75a4130f>{</span><span class="token number" data-v-75a4130f>22</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>11</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>13</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token operator" data-v-75a4130f>-</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>29</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span>
	<span class="token punctuation" data-v-75a4130f>{</span><span class="token punctuation" data-v-75a4130f>{</span><span class="token number" data-v-75a4130f>22</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>11</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>12</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token operator" data-v-75a4130f>-</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token number" data-v-75a4130f>30</span><span class="token punctuation" data-v-75a4130f>}</span>
<span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>;</span>
</code></pre></div><p data-v-75a4130f>对于 JavaScript 而言，可以使用对象来保存这些：</p> <div class="language-javascript extra-class" data-v-75a4130f><pre class="language-javascript" data-v-75a4130f><code data-v-75a4130f>features<span class="token punctuation" data-v-75a4130f>:</span> <span class="token punctuation" data-v-75a4130f>[</span><span class="token string" data-v-75a4130f>&quot;有毛&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;产奶&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;有羽毛&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;会飞&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;会下蛋&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;吃肉&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;有犬齿&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;有爪&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;眼睛盯前方&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;有蹄&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;反刍&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;黄褐色&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;有斑点&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;有黑色条纹&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;长脖&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;长腿&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;不会飞&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;会游泳&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;黑白两色&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;善飞&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;哺乳类&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;鸟类&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;肉食类&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;蹄类&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;企鹅&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;海燕&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;鸵鸟&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;斑马&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;长颈鹿&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;虎&quot;</span><span class="token punctuation" data-v-75a4130f>,</span><span class="token string" data-v-75a4130f>&quot;金钱豹&quot;</span><span class="token punctuation" data-v-75a4130f>]</span><span class="token punctuation" data-v-75a4130f>,</span>
result<span class="token punctuation" data-v-75a4130f>:</span> <span class="token function" data-v-75a4130f>Array</span><span class="token punctuation" data-v-75a4130f>(</span><span class="token number" data-v-75a4130f>31</span><span class="token punctuation" data-v-75a4130f>)</span><span class="token punctuation" data-v-75a4130f>.</span><span class="token function" data-v-75a4130f>fill</span><span class="token punctuation" data-v-75a4130f>(</span><span class="token boolean" data-v-75a4130f>false</span><span class="token punctuation" data-v-75a4130f>)</span><span class="token punctuation" data-v-75a4130f>,</span> <span class="token comment" data-v-75a4130f>// 表示推理的结果</span>
rules<span class="token punctuation" data-v-75a4130f>:</span> <span class="token punctuation" data-v-75a4130f>[</span>
    <span class="token punctuation" data-v-75a4130f>{</span>
        conditions<span class="token punctuation" data-v-75a4130f>:</span> <span class="token punctuation" data-v-75a4130f>[</span><span class="token number" data-v-75a4130f>0</span><span class="token punctuation" data-v-75a4130f>]</span><span class="token punctuation" data-v-75a4130f>,</span>
        conclusion<span class="token punctuation" data-v-75a4130f>:</span> <span class="token number" data-v-75a4130f>20</span>
    <span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span> <span class="token punctuation" data-v-75a4130f>{</span>
        conditions<span class="token punctuation" data-v-75a4130f>:</span> <span class="token punctuation" data-v-75a4130f>[</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>]</span><span class="token punctuation" data-v-75a4130f>,</span>
        conclusion<span class="token punctuation" data-v-75a4130f>:</span> <span class="token number" data-v-75a4130f>20</span>
    <span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span> 
    ……
    <span class="token punctuation" data-v-75a4130f>{</span>
    conditions<span class="token punctuation" data-v-75a4130f>:</span> <span class="token punctuation" data-v-75a4130f>[</span><span class="token number" data-v-75a4130f>22</span><span class="token punctuation" data-v-75a4130f>,</span> <span class="token number" data-v-75a4130f>11</span><span class="token punctuation" data-v-75a4130f>,</span> <span class="token number" data-v-75a4130f>12</span><span class="token punctuation" data-v-75a4130f>]</span><span class="token punctuation" data-v-75a4130f>,</span>
    conclusion<span class="token punctuation" data-v-75a4130f>:</span> <span class="token number" data-v-75a4130f>30</span>
<span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>]</span><span class="token punctuation" data-v-75a4130f>,</span>
</code></pre></div><p data-v-75a4130f>注意这里的 Features 其实是 31 个概念，有毛、产奶等；从上面的规则中也可以看出，其中<strong data-v-75a4130f>前二十个</strong>（一直到善飞）都是用户的输入，而 &quot;哺乳类&quot;,&quot;鸟类&quot;,&quot;肉食类&quot;,&quot;蹄类&quot; 这<strong data-v-75a4130f>四个是中间推导结果</strong>，<strong data-v-75a4130f>最后七个</strong>动物则是最终的结论。</p> <h2 id="_2-推理机" data-v-75a4130f><a href="#_2-推理机" aria-hidden="true" class="header-anchor" data-v-75a4130f>#</a> 2. 推理机</h2> <h3 id="规则的序列" data-v-75a4130f><a href="#规则的序列" aria-hidden="true" class="header-anchor" data-v-75a4130f>#</a> 规则的序列</h3> <p data-v-75a4130f>推理机其实就是一个用来判断的函数，可行的一个办法就是对所有规则进行遍历，同时更新现在已知的结果。但是这里存在的一个问题，比如有下面两条个规则：</p> <ol data-v-75a4130f><li data-v-75a4130f>如果 长脖子 且 是食草动物，可推出长颈鹿</li> <li data-v-75a4130f>如果 有毛 且 有蹄，可推出食草动物</li></ol> <p data-v-75a4130f>在遍历规则的时候，第一条规则的条件中，食草动物并没有满足条件，所以不能推出是长颈鹿；当遍历到第二条规则的时候虽然已经推导出是食草动物，但是由于已经遍历完成，所以无法得到最终结论。所以对于所有的规则，应当满足<strong data-v-75a4130f>拓扑序列</strong>。这里所有的规则正好是满足拓扑序列的。</p> <p data-v-75a4130f><img src="http://src.xerrors.fun/img20200511115652.png" alt="图示" data-v-75a4130f></p> <h3 id="实现逻辑" data-v-75a4130f><a href="#实现逻辑" aria-hidden="true" class="header-anchor" data-v-75a4130f>#</a> 实现逻辑</h3> <p data-v-75a4130f>先看一下预期的效果：</p> <p data-v-75a4130f><strong data-v-75a4130f>HTML 代码：</strong>（vue中的）不适用 Vue 做可视化的同学可以忽略代码，直接看后面的图片；</p> <div class="language-vue extra-class" data-v-75a4130f><pre class="language-vue" data-v-75a4130f><code data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;</span>template</span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>
  <span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;</span>h2</span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>条件<span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;/</span>h2</span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>
  <span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;</span>div</span> <span class="token attr-name" data-v-75a4130f>class</span><span class="token attr-value" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>=</span><span class="token punctuation" data-v-75a4130f>&quot;</span>item-box<span class="token punctuation" data-v-75a4130f>&quot;</span></span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>
    <span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;</span>div</span> <span class="token attr-name" data-v-75a4130f>v-for</span><span class="token attr-value" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>=</span><span class="token punctuation" data-v-75a4130f>&quot;</span>(item, ind) in features.slice(0, 20)<span class="token punctuation" data-v-75a4130f>&quot;</span></span> <span class="token attr-name" data-v-75a4130f>:key</span><span class="token attr-value" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>=</span><span class="token punctuation" data-v-75a4130f>&quot;</span>ind<span class="token punctuation" data-v-75a4130f>&quot;</span></span> 
         <span class="token attr-name" data-v-75a4130f>:class</span><span class="token attr-value" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>=</span><span class="token punctuation" data-v-75a4130f>&quot;</span>computeClass(ind)<span class="token punctuation" data-v-75a4130f>&quot;</span></span>
         <span class="token attr-name" data-v-75a4130f>@click</span><span class="token attr-value" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>=</span><span class="token punctuation" data-v-75a4130f>&quot;</span>activate(ind)<span class="token punctuation" data-v-75a4130f>&quot;</span></span><span class="token punctuation" data-v-75a4130f>&gt;</span></span> {{ item }}<span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;</span>br</span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>( {{ ind }} )
    <span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;/</span>div</span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>
  <span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;/</span>div</span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>
  <span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;</span>h2</span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>推论<span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;/</span>h2</span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>
  <span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;</span>div</span> <span class="token attr-name" data-v-75a4130f>class</span><span class="token attr-value" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>=</span><span class="token punctuation" data-v-75a4130f>&quot;</span>item-box<span class="token punctuation" data-v-75a4130f>&quot;</span></span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>
    <span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;</span>div</span> <span class="token attr-name" data-v-75a4130f>v-for</span><span class="token attr-value" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>=</span><span class="token punctuation" data-v-75a4130f>&quot;</span>(item, ind) in features.slice(20)<span class="token punctuation" data-v-75a4130f>&quot;</span></span> <span class="token attr-name" data-v-75a4130f>:key</span><span class="token attr-value" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>=</span><span class="token punctuation" data-v-75a4130f>&quot;</span>item<span class="token punctuation" data-v-75a4130f>&quot;</span></span> 
         <span class="token attr-name" data-v-75a4130f>class</span><span class="token attr-value" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>=</span><span class="token punctuation" data-v-75a4130f>&quot;</span>active<span class="token punctuation" data-v-75a4130f>&quot;</span></span>
         <span class="token attr-name" data-v-75a4130f>v-if</span><span class="token attr-value" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>=</span><span class="token punctuation" data-v-75a4130f>&quot;</span>conclusion[ind]<span class="token punctuation" data-v-75a4130f>&quot;</span></span><span class="token punctuation" data-v-75a4130f>&gt;</span></span> {{ item }}<span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;</span>br</span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>( {{ ind+20 }} )
    <span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;/</span>div</span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>
  <span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;/</span>div</span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>  
  <span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;</span>h2</span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>过程<span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;/</span>h2</span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>
  <span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;</span>p</span> <span class="token attr-name" data-v-75a4130f>v-for</span><span class="token attr-value" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>=</span><span class="token punctuation" data-v-75a4130f>&quot;</span>line in process<span class="token punctuation" data-v-75a4130f>&quot;</span></span> <span class="token attr-name" data-v-75a4130f>class</span><span class="token attr-value" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>=</span><span class="token punctuation" data-v-75a4130f>&quot;</span>line<span class="token punctuation" data-v-75a4130f>&quot;</span></span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>{{ line }} <span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;/</span>p</span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>
<span class="token tag" data-v-75a4130f><span class="token tag" data-v-75a4130f><span class="token punctuation" data-v-75a4130f>&lt;/</span>template</span><span class="token punctuation" data-v-75a4130f>&gt;</span></span>
</code></pre></div><p data-v-75a4130f><img src="http://src.xerrors.fun/img20200511162235.png" alt="" data-v-75a4130f></p> <p data-v-75a4130f>由于前二十个事实（如：有毛、产奶）是用户的输入，所有我放在第一块条件里面，供用户点击输入，第二块的推论则是由上面的事实所得到的结果。最后一栏则是模拟专家的分析过程。</p> <h3 id="推理机的实现" data-v-75a4130f><a href="#推理机的实现" aria-hidden="true" class="header-anchor" data-v-75a4130f>#</a> 推理机的实现</h3> <p data-v-75a4130f>当用户点击上面的事实的时候我会调用判断程序，判断程序的逻辑很简单，当用点击某个事实的时候，给那个事实<strong data-v-75a4130f>置 1</strong> 或者<strong data-v-75a4130f>置 0</strong> ，然后将之前的推论全部清空，因为当用户将某个事实置为0之后，由这个事实推导出的结论也应该置0，所以需要删除之前所有的推论，重新推导。</p> <p data-v-75a4130f>然后是借用 JavaScript 数组的 reduce 特性<strong data-v-75a4130f>遍历所有规则中的条件</strong>以及<strong data-v-75a4130f>保存推导过程</strong>。</p> <div class="language-javascript extra-class" data-v-75a4130f><pre class="language-javascript" data-v-75a4130f><code data-v-75a4130f><span class="token function" data-v-75a4130f>activate</span> <span class="token punctuation" data-v-75a4130f>(</span><span class="token parameter" data-v-75a4130f>ind</span><span class="token punctuation" data-v-75a4130f>)</span> <span class="token punctuation" data-v-75a4130f>{</span>
  <span class="token keyword" data-v-75a4130f>this</span><span class="token punctuation" data-v-75a4130f>.</span>result<span class="token punctuation" data-v-75a4130f>[</span>ind<span class="token punctuation" data-v-75a4130f>]</span> <span class="token operator" data-v-75a4130f>=</span> <span class="token operator" data-v-75a4130f>!</span><span class="token keyword" data-v-75a4130f>this</span><span class="token punctuation" data-v-75a4130f>.</span>result<span class="token punctuation" data-v-75a4130f>[</span>ind<span class="token punctuation" data-v-75a4130f>]</span>
  <span class="token comment" data-v-75a4130f>// 对非用户选择的数据清零</span>
  <span class="token keyword" data-v-75a4130f>this</span><span class="token punctuation" data-v-75a4130f>.</span>result <span class="token operator" data-v-75a4130f>=</span> <span class="token keyword" data-v-75a4130f>this</span><span class="token punctuation" data-v-75a4130f>.</span>result<span class="token punctuation" data-v-75a4130f>.</span><span class="token function" data-v-75a4130f>map</span><span class="token punctuation" data-v-75a4130f>(</span><span class="token punctuation" data-v-75a4130f>(</span><span class="token parameter" data-v-75a4130f>value<span class="token punctuation" data-v-75a4130f>,</span> index</span><span class="token punctuation" data-v-75a4130f>)</span> <span class="token operator" data-v-75a4130f>=&gt;</span> index <span class="token operator" data-v-75a4130f>&gt;=</span> <span class="token number" data-v-75a4130f>20</span> <span class="token operator" data-v-75a4130f>?</span> <span class="token boolean" data-v-75a4130f>false</span> <span class="token punctuation" data-v-75a4130f>:</span> value <span class="token punctuation" data-v-75a4130f>)</span>
  <span class="token keyword" data-v-75a4130f>const</span> <span class="token function-variable function" data-v-75a4130f>reducer</span> <span class="token operator" data-v-75a4130f>=</span> <span class="token punctuation" data-v-75a4130f>(</span><span class="token parameter" data-v-75a4130f>accumulator<span class="token punctuation" data-v-75a4130f>,</span> currentValue</span><span class="token punctuation" data-v-75a4130f>)</span> <span class="token operator" data-v-75a4130f>=&gt;</span> accumulator <span class="token operator" data-v-75a4130f>&amp;&amp;</span> <span class="token keyword" data-v-75a4130f>this</span><span class="token punctuation" data-v-75a4130f>.</span>result<span class="token punctuation" data-v-75a4130f>[</span>currentValue<span class="token punctuation" data-v-75a4130f>]</span><span class="token punctuation" data-v-75a4130f>;</span>
  <span class="token keyword" data-v-75a4130f>const</span> <span class="token function-variable function" data-v-75a4130f>reduce_word</span> <span class="token operator" data-v-75a4130f>=</span>  <span class="token punctuation" data-v-75a4130f>(</span><span class="token parameter" data-v-75a4130f>accumulator<span class="token punctuation" data-v-75a4130f>,</span> currentValue</span><span class="token punctuation" data-v-75a4130f>)</span> <span class="token operator" data-v-75a4130f>=&gt;</span> accumulator <span class="token operator" data-v-75a4130f>+</span> <span class="token keyword" data-v-75a4130f>this</span><span class="token punctuation" data-v-75a4130f>.</span>features<span class="token punctuation" data-v-75a4130f>[</span>currentValue<span class="token punctuation" data-v-75a4130f>]</span> <span class="token operator" data-v-75a4130f>+</span> <span class="token string" data-v-75a4130f>'且'</span><span class="token punctuation" data-v-75a4130f>;</span>
  <span class="token keyword" data-v-75a4130f>this</span><span class="token punctuation" data-v-75a4130f>.</span>process <span class="token operator" data-v-75a4130f>=</span> <span class="token punctuation" data-v-75a4130f>[</span><span class="token punctuation" data-v-75a4130f>]</span>
  <span class="token keyword" data-v-75a4130f>for</span> <span class="token punctuation" data-v-75a4130f>(</span><span class="token keyword" data-v-75a4130f>var</span> item <span class="token keyword" data-v-75a4130f>of</span> <span class="token keyword" data-v-75a4130f>this</span><span class="token punctuation" data-v-75a4130f>.</span>rules<span class="token punctuation" data-v-75a4130f>)</span> <span class="token punctuation" data-v-75a4130f>{</span>
    <span class="token keyword" data-v-75a4130f>if</span> <span class="token punctuation" data-v-75a4130f>(</span>item<span class="token punctuation" data-v-75a4130f>.</span>conditions<span class="token punctuation" data-v-75a4130f>.</span><span class="token function" data-v-75a4130f>reduce</span><span class="token punctuation" data-v-75a4130f>(</span>reducer<span class="token punctuation" data-v-75a4130f>,</span> <span class="token boolean" data-v-75a4130f>true</span><span class="token punctuation" data-v-75a4130f>)</span><span class="token punctuation" data-v-75a4130f>)</span> <span class="token punctuation" data-v-75a4130f>{</span>
      <span class="token keyword" data-v-75a4130f>const</span> word <span class="token operator" data-v-75a4130f>=</span> item<span class="token punctuation" data-v-75a4130f>.</span>conditions<span class="token punctuation" data-v-75a4130f>.</span><span class="token function" data-v-75a4130f>reduce</span><span class="token punctuation" data-v-75a4130f>(</span>reduce_word<span class="token punctuation" data-v-75a4130f>,</span> <span class="token string" data-v-75a4130f>'因为'</span><span class="token punctuation" data-v-75a4130f>)</span><span class="token punctuation" data-v-75a4130f>.</span><span class="token function" data-v-75a4130f>slice</span><span class="token punctuation" data-v-75a4130f>(</span><span class="token number" data-v-75a4130f>0</span><span class="token punctuation" data-v-75a4130f>,</span> <span class="token operator" data-v-75a4130f>-</span><span class="token number" data-v-75a4130f>1</span><span class="token punctuation" data-v-75a4130f>)</span>
      <span class="token keyword" data-v-75a4130f>this</span><span class="token punctuation" data-v-75a4130f>.</span>process<span class="token punctuation" data-v-75a4130f>.</span><span class="token function" data-v-75a4130f>push</span><span class="token punctuation" data-v-75a4130f>(</span>word <span class="token operator" data-v-75a4130f>+</span> <span class="token string" data-v-75a4130f>', 所以可得'</span> <span class="token operator" data-v-75a4130f>+</span> <span class="token keyword" data-v-75a4130f>this</span><span class="token punctuation" data-v-75a4130f>.</span>features<span class="token punctuation" data-v-75a4130f>[</span>item<span class="token punctuation" data-v-75a4130f>.</span>conclusion<span class="token punctuation" data-v-75a4130f>]</span><span class="token punctuation" data-v-75a4130f>)</span>
      <span class="token keyword" data-v-75a4130f>this</span><span class="token punctuation" data-v-75a4130f>.</span>result<span class="token punctuation" data-v-75a4130f>[</span>item<span class="token punctuation" data-v-75a4130f>.</span>conclusion<span class="token punctuation" data-v-75a4130f>]</span> <span class="token operator" data-v-75a4130f>=</span> item<span class="token punctuation" data-v-75a4130f>.</span>conditions<span class="token punctuation" data-v-75a4130f>.</span><span class="token function" data-v-75a4130f>reduce</span><span class="token punctuation" data-v-75a4130f>(</span>reducer<span class="token punctuation" data-v-75a4130f>,</span> <span class="token boolean" data-v-75a4130f>true</span><span class="token punctuation" data-v-75a4130f>)</span>
    <span class="token punctuation" data-v-75a4130f>}</span>
  <span class="token punctuation" data-v-75a4130f>}</span>
  console<span class="token punctuation" data-v-75a4130f>.</span><span class="token function" data-v-75a4130f>log</span><span class="token punctuation" data-v-75a4130f>(</span><span class="token keyword" data-v-75a4130f>this</span><span class="token punctuation" data-v-75a4130f>.</span>result<span class="token punctuation" data-v-75a4130f>)</span>
<span class="token punctuation" data-v-75a4130f>}</span><span class="token punctuation" data-v-75a4130f>,</span>
</code></pre></div><h2 id="总结及参考链接" data-v-75a4130f><a href="#总结及参考链接" aria-hidden="true" class="header-anchor" data-v-75a4130f>#</a> 总结及参考链接</h2> <p data-v-75a4130f>下面是个人的看法，从某种角度上感觉这个专家系统很落后，很没有用处，不就是各种判断吗，没什么了不起的。但是仔细想一想，人的大脑再怎么厉害，不也就是根据以往的经验来对当前的情况进行判断的吗。之所以感觉上面的专家系统太笨，是因为这里的知识库以及规则太少了，历史上还有很多成功的专家系统的案例的。</p> <p data-v-75a4130f>[1] <a href="%5Bhttps://zh.wikipedia.org/wiki/%E4%B8%93%E5%AE%B6%E7%B3%BB%E7%BB%9F%5D(https://zh.wikipedia.org/wiki/%E4%B8%93%E5%AE%B6%E7%B3%BB%E7%BB%9F)" data-v-75a4130f>专家系统 - 维基百科</a></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">修改于:</span> <span class="time">5/11/2020, 4:36:17 PM</span></div></footer> <!----> <div style="background:white;" data-v-6d2945c5><section class="page-edit" data-v-6d2945c5><span data-flag-title="Your Article Title" class="leancloud-visitors" data-v-6d2945c5><i class="el-icon-view" style="margin-right: 3px;" data-v-6d2945c5></i> <span class="leancloud-visitors-count" data-v-6d2945c5></span> <span data-v-6d2945c5>次浏览</span></span> <div id="vcomments" data-v-6d2945c5></div></section></div></div> <div class="my-menu"><div class="my-menu__item"><h4 style="margin-top: 0; color: #121314">目录</h4> <a href="/Animal-Identification-Expert-System/#_1-简单介绍" class="my-menu__lv2">1. 简单介绍</a><a href="/Animal-Identification-Expert-System/#_2-知识库" class="my-menu__lv2">2. 知识库</a><a href="/Animal-Identification-Expert-System/#保存规则" class="my-menu__lv3">保存规则</a><a href="/Animal-Identification-Expert-System/#_2-推理机" class="my-menu__lv2">2. 推理机</a><a href="/Animal-Identification-Expert-System/#规则的序列" class="my-menu__lv3">规则的序列</a><a href="/Animal-Identification-Expert-System/#实现逻辑" class="my-menu__lv3">实现逻辑</a><a href="/Animal-Identification-Expert-System/#推理机的实现" class="my-menu__lv3">推理机的实现</a><a href="/Animal-Identification-Expert-System/#总结及参考链接" class="my-menu__lv2">总结及参考链接</a></div></div></div> </main></div> <div class="footer">
    © 2019-2020 ❤️ Xerrors<br> <a href="http://www.beian.miit.gov.cn" target="_blank">皖 ICP 备 19016269 号</a><br> <a href="https://me.csdn.net/jaykm" target="_blank">CSND</a>    
    <a href="https://github.com/Xerrors" target="_blank">GitHub</a>   
    <a href="https://juejin.im/user/5c17f022f265da616c65862f" target="_blank">掘金</a></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.2e9518ad.js" defer></script><script src="/assets/js/10.1662b097.js" defer></script><script src="/assets/js/9.66c50aa9.js" defer></script>
  </body>
</html>
